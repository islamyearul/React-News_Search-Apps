{"ast":null,"code":"import axios from '../utilis/axios';\nexport const newsCategory = {\n  technology: 'technology',\n  business: 'business',\n  entertainment: 'entertainment',\n  health: 'health',\n  science: 'science',\n  sports: 'sports',\n  general: 'general'\n};\nconst MAX_ITEM_PER_PAGE = 5;\nexport default class News {\n  constructor(category) {\n    this._category = category;\n    this._searchItem = '';\n    this._pageSize = MAX_ITEM_PER_PAGE;\n    this._currentPage = 1;\n    this._totalPage = 1;\n    this._isPrev = this._isPrev;\n    this._isNext = this._isNext;\n  }\n\n  async getNews() {\n    try {\n      const {\n        data\n      } = await axios.get(this._geturl());\n      this._totalPage = Math.ceil(data.totalResults / MAX_ITEM_PER_PAGE); //total page\n\n      console.log(this._totalPage, this._pageSize);\n      return {\n        articles: data.articles,\n        totalPage: this._totalPage,\n        currentPage: this._currentPage,\n        category: this._category,\n        totalResults: data.totalResults,\n        isNext: this._isNext(),\n        isPrev: this._isPrev()\n      };\n    } catch (e) {\n      throw new Error(e);\n    }\n  }\n\n  nextPage() {\n    if (this._isNext()) {\n      this._currentPage++;\n      return this.getNews();\n    }\n\n    return false;\n  }\n\n  prevPage() {\n    if (this._isPrev()) {\n      this._currentPage--;\n      return this.getNews();\n    }\n\n    return false;\n  }\n\n  setCurrentPage(pageNumber) {\n    if (pageNumber < 1 && pageNumber > this._totalPage) {\n      throw new Error('Page number is out of range');\n    }\n\n    this._currentPage = pageNumber;\n    return this.getNews();\n  }\n\n  changeCategory(category) {\n    this._category = category;\n    this._currentPage = 1;\n    return this.getNews();\n  }\n\n  search(Term) {\n    this._searchItem = Term;\n    this._currentPage = 1;\n    return this.getNews();\n  }\n\n  _geturl() {\n    let url = '/?';\n    if (this._category) url += `category=${this._category}`;\n    if (this._searchItem) url += `&q=${this._searchItem}`;\n    if (this._pageSize) url += `&pageSize=${this._pageSize}`;\n    if (this._currentPage) url += `&page=${this._currentPage}`;\n    return url;\n  }\n\n  _isNext() {\n    return this._currentPage < this._totalPage;\n  }\n\n  _isPrev() {\n    return this._currentPage > 1;\n  }\n\n}","map":{"version":3,"names":["axios","newsCategory","technology","business","entertainment","health","science","sports","general","MAX_ITEM_PER_PAGE","News","constructor","category","_category","_searchItem","_pageSize","_currentPage","_totalPage","_isPrev","_isNext","getNews","data","get","_geturl","Math","ceil","totalResults","console","log","articles","totalPage","currentPage","isNext","isPrev","e","Error","nextPage","prevPage","setCurrentPage","pageNumber","changeCategory","search","Term","url"],"sources":["D:/islamyearul/react-search-apps/src/news/index.js"],"sourcesContent":["\r\nimport axios from '../utilis/axios';\r\n\r\nexport const newsCategory = {\r\n    technology : 'technology',\r\n    business : 'business',\r\n    entertainment : 'entertainment',\r\n    health : 'health',\r\n    science : 'science',\r\n    sports : 'sports',\r\n    general : 'general',\r\n\r\n}\r\n\r\nconst MAX_ITEM_PER_PAGE = 5;\r\n\r\nexport default class News {\r\n\r\n    constructor(category){\r\n        this._category = category;\r\n        this._searchItem = '';\r\n        this._pageSize = MAX_ITEM_PER_PAGE;\r\n        this._currentPage = 1;\r\n        this._totalPage = 1; \r\n        this._isPrev = this._isPrev;\r\n        this._isNext = this._isNext;\r\n      }\r\n\r\n   async getNews(){\r\n        try{\r\n            const {data} = await axios.get(this._geturl());\r\n            this._totalPage = Math.ceil(data.totalResults/MAX_ITEM_PER_PAGE); //total page\r\n            console.log(this._totalPage, this._pageSize);\r\n            return{\r\n                articles: data.articles,\r\n                totalPage: this._totalPage,\r\n                currentPage: this._currentPage,\r\n                category: this._category,\r\n                totalResults: data.totalResults,\r\n                isNext: this._isNext(),\r\n                isPrev: this._isPrev(),\r\n\r\n            }\r\n\r\n        }catch(e){\r\n           throw new Error(e);\r\n        }\r\n      \r\n    }\r\n\r\n    nextPage(){\r\n        if(this._isNext()){\r\n            this._currentPage++;\r\n            return this.getNews();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    prevPage(){\r\n        if (this._isPrev()){\r\n            this._currentPage--;\r\n            return this.getNews();\r\n        }\r\n        return false;        \r\n    } \r\n\r\n    setCurrentPage(pageNumber){\r\n        if(pageNumber < 1 && pageNumber > this._totalPage){\r\n            throw new Error('Page number is out of range');\r\n        }\r\n        this._currentPage = pageNumber;\r\n        return this.getNews();\r\n    }\r\n\r\n    changeCategory(category){\r\n        this._category = category;\r\n        this._currentPage = 1;\r\n        return this.getNews();\r\n    }\r\n    search(Term){\r\n        this._searchItem = Term;\r\n        this._currentPage = 1;\r\n        return this.getNews();\r\n    }\r\n\r\n    _geturl(){\r\n        let url = '/?';\r\n        if(this._category) url += `category=${this._category}`; \r\n        if(this._searchItem) url += `&q=${this._searchItem}`; \r\n        if(this._pageSize) url += `&pageSize=${this._pageSize}`; \r\n        if(this._currentPage) url += `&page=${this._currentPage}`; \r\n\r\n        return url;\r\n\r\n    }\r\n\r\n    _isNext(){\r\n        return this._currentPage < this._totalPage;\r\n    }\r\n\r\n   _isPrev (){\r\n        return this._currentPage > 1;\r\n    }\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}